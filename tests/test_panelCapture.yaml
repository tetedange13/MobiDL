## WARNING: md5 of EMPTY file = d41d8cd98f00b204e9800998ecf8427e

- name: PanelCapture HG002 trio son on cluster scratch
  # Overall runtime : ~ 1.5h
  tags:
    - wf_level
    - full
    - corriel
    - HG002_trio
    - son
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/HG002_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: Happy HG002 trio son on cluster scratch
  tags:
    - wf_level
    - full
    - corriel
    - HG002_trio
    - son
    - special
  command: nohup bash tests/panelCapture/run_happy_FULL.sh /scratch/PanelCapture_HG002_trio_son_on_cluster_scratch HG002 /mnt/chu-ngs/refData/intervals/RefSeqHG19_CDSplus20.bed
  exit_code: 0
  files:
    - path: out-test/HG002.summary.csv
      should_exist: true
      md5sum: d7a297e0a91ec56a1c8f9b949121f794
    - path: out-test/HG002.dv.summary.csv
      should_exist: true
      md5sum: 2e2057233bf4fc3fc13b4a71a7bd663f
    - path: out-test/HG002.hc.summary.csv
      should_exist: true
      md5sum: c6a62444e58aebccaeb4b24fa309742b

- name: PanelCapture HG002 trio son chr22
  # Overall runtime : ~ 30 min
  tags:
    - wf_level
    - downsampled
    - corriel
    - HG002_trio
    - son
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/HG002-chr22_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: PanelCapture A161161 chr22
  # Overall runtime : ~ 30 min
  tags:
    - wf_level
    - downsampled
    - patient
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/A161161-chr22_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: PanelCapture SU9000
  # Overall runtime : ~ 15 min
  tags:
    - wf_level
    - full
    - patient
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/SU9000_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: PanelCapture SU9000 hg38
  # Overall runtime : ~ 15 min
  tags:
    - wf_level
    - hg38
    - full
    - patient
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/SU9000-hg38_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: Simulated on cluster scratch
  # Overall runtime : ~ 1.5h
  tags:
    - wf_level
    - full
    - simulated
    - exome
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/simulated_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: PanelCapture simulated PANEL on cluster scratch
  # Overall runtime : ~ 30 min
  tags:
    - wf_level
    - full
    - simulated
    - panel
  command: nohup bash -c "source tests/func_special.sh && run_wdl_MobiDL panelCapture.wdl tests/panelCapture/simulated-panel_inputs.json tests/Cluster_noDB-test.conf"
  stdout:
    contains:
      - "workflow finished with status 'Succeeded'"

- name: Happy simulated PANEL on cluster scratch
  # Hap.py ran against VCF of UMAI variants
  # -> Rather to evaluate '(false-)negatives' side
  tags:
    - wf_level
    - full
    - simulated
    - panel
    - special
  command: nohup bash tests/panelCapture/run_happy_simulated.sh /scratch/PanelCapture_simulated_PANEL_on_cluster_scratch neat-UMAI-20241217-panelS /bioinfo/refData/intervals/bedFiles/old/MAI_19_261223-JSI_chr.bed
  exit_code: 0
  files:
    - path: out-test/neat-UMAI-20241217-panelS.summary.csv
      should_exist: true
      md5sum: 734af5f6b3ac2f4680ddf1b1bd577279
    - path: out-test/neat-UMAI-20241217-panelS.dv.summary.csv
      should_exist: true
      md5sum: 17ca420c4ca6b23c540dd8e462ecaa14
    - path: out-test/neat-UMAI-20241217-panelS.hc.summary.csv
      should_exist: true
      md5sum: 734af5f6b3ac2f4680ddf1b1bd577279
